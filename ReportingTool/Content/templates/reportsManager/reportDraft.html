

<section id="reportDraft" class="row row-standart row-margin-top">
    <div class="col-sm-12 panel panel-info">

        <div class="panel-heading">

            <h3>
                <strong>{{ selectedTemplate.templateName}}&nbsp;&nbsp;&nbsp;&nbsp;</strong>
            </h3> 

            <!--  --- progress Indicator for Ajax Requests ------ begin ---------------- -->
             <div id="progressIndicator">
                <md-progress-circular md-mode="indeterminate"
                    md-diameter="40"
                    ng-show="requestProcessing > 0">
                </md-progress-circular>
            </div>
            <!--  --- progress Indicator for Ajax Requests ------- end ----------------- -->

        </div>

        <!--  --- Usual Tasks --------------------------------------- begin ---------------- -->
        <div class="panel-body">
            <div>
                <!--
                    templateName :  &nbsp; &nbsp; {{ selectedTemplate.templateName}} <br />
                    templateId :  &nbsp; &nbsp; {{ selectedTemplate.templateId}}  <br />
                     Fname :  {{ selectedTemplate.fields[0].fieldName }} 

                    <p id="P0">{{ fields[0].fieldName }} &nbsp; &nbsp;{{ fields[0].fieldDefaultValue }}</p>
                    <p id="P1">{{ fields[1].fieldName }} &nbsp; &nbsp;{{ fields[1].fieldDefaultValue }}</p>
                -->                
               <p id="P2" class="pheader">{{ fields[2].fieldName }} </p>
                <div>
                    <!--<textarea rows="4" cols="50" name="comment" form="usrform"> Enter text here...</textarea>-->
                    <textarea class="form-control resizable" rows="2">{{ fields[2].fieldDefaultValue }}</textarea>
                </div> 
             </div>
        </div>
        <!--  --- Usual Tasks --------------------------------------- end ------------------- -->

        <!-- tempReport.template fields check -->
        <!--
        <form>
            <container>
                {{tempReport.template.templateId}}      <br />           
                {{tempReport.template.templateName}}      <br />    
                <div class="row" ng-repeat="field in tempReport.template.fields | orderBy:'fieldID'">
                    <span class="col-md-3">
                        {{field.fieldName}} {{field.fieldDefaultValue}}    <br />          
                    </span>
                </div>
            </container>
        </form>
        -->
         <!-- tempReport.template fields check -->  
        
        <div class="panel-body">
                <p  class="pheader">User Activity </p>
        </div>

        <!-- table for all members -->
        <div>
            <table class="table table-striped tbottom">
            <colgroup>
                <col width="40%" />
                <col width="35%" />
                <col width="20%" />
                <col width="5%" />
            </colgroup>

                <thead class="thead1">
                    <tr>
                        <th>Team Member</th>
                        <th>Role</th>
                        <th>Activity</th>
                        <th>&nbsp;</th>
                    </tr>
                </thead>

              <tbody>
                    <!--  --- Project Manager row--------------------------- begin ---------------- -->
                   <tr>
                       <td>{{fields[0].fieldDefaultValue}}</td>
                        <td>
                            <input type="text" class="form-control" placeholder="Enter role..." value="Project Manager"> 
                        </td>
                         <td>
                             <label>0&nbsp;h</label>
                        </td>
                    </tr>
                   <!--  --- Project Manager row--------------------------- end ------------------- -->

                  <!--  --- Total ReportedList ------------------------------- begin ---------------- -->
                  <!--
                  <tr ng-repeat="member in reportedMembers | orderBy:'fullName' ">
                       <td>{{member.fullName}}</td>
                        <td>
                            <input type="text" class="form-control" placeholder="Enter role...">
                        </td>
                         <td>
                             <label>{{member.activity}}&nbsp;h</label>
                        </td>
                        <td>
                            <a class="glyph-link" ng-click="removeMember(member.userName)">
                                <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                            </a>
                        </td>
                    </tr>
                  -->
                  <!--  --- Total ReportedList ------------------------------- end ------------------- -->
               </tbody>
            </table>
        </div>
         <!-- Reported groups with members ------------ begin -------------------------- -->
        <div class="panel-body">
           <div ng-repeat="group in reportedGroups | orderBy:'groupName' " class="row gheader">
                <div class="col-xs-8 col-sm-4 col-sm-offset-5 group-name">
                            <strong> {{group.groupName | uppercase}} </strong>
                            <a class="glyph-link" ng-click="removeGroup($index)">
                                <small><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></small>
                            </a>
                </div>

                <div>
                    <table class="table table-striped">
                    <colgroup>
                        <col width="40%" />
                        <col width="30%" />
                        <col width="30%" />
                    </colgroup>

                    <tbody>
                          <!-- <tr ng-repeat="member in selectedTeam.members | orderBy:'fullName' "> -->
                          <tr ng-repeat="member in group.members | orderBy:'fullName' ">
                               <td>{{member.fullName}}</td>
                                <td>
                                    <input type="text" class="form-control" ng-model="member.role" value="{{member.role}}"  placeholder="Enter role...">
                                </td>
                                 <td>
                                     <label>{{member.activity}}&nbsp;h</label>
                                </td>
                            </tr>
                       </tbody>
                    </table>
                </div>
            </div>
        </div>
        <!-- Reported groups with members ------------- end ---------------------------- -->

        <!-- Add Group button ----------------------------------------------------------------- -->
         <div class="row">
            <div class="col-xs-3 center">
                  <a class="btn btn-link" ng-click="addGroupPanel=true">Add Group</a>
                        <!--ui-sref="mainView.teamsManager.createTeam"-->
            </div>
         </div>
         <!-- Add Group button ----------------------------------------------------------------- -->
       
         <!-- groupName + 2 glyphs----------------------------------------------------------- -->
        <div class="row " ng-if="addGroupPanel == true">
            <div class="col-xs-8 col-sm-6 col-sm-offset-2">
                 <input class='form-control' id="groupName" ng-model="editGroup.groupName" placeholder="Enter group name..." >  <!-- autofocus -->
            </div>
             <div class="col-xs-1">
                <!--<button id="btn-save" class="btn btn-default" ng-click='save()'>Save</button>-->
                 <a class="glyph-link" ng-click='save()'>
                        <span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
                    </a>
              </div>

            <div class="col-xs-1">
                <!--<button id="btn-cancel" class="btn btn-default" ng-click='cancel()'>Cancel</button>-->
                 <a class="glyph-link" ng-click='cancel()'>
                        <span class="glyphicon glyphicon-off" aria-hidden="true"></span>
                    </a>
            </div>
         </div>
         <!-- groupName + 2 glyphs----------------------------------------------------------- -->

        <!-- editGroup table -------------------------------------------------------------------- -->
        <table class="table table-striped" ng-if="addGroupPanel==true">
            <colgroup>
                <col width="40%" />
                <col width="35%" />
                <col width="20%" />
                <col width="5%" />
            </colgroup>
            <tbody>
                  <!-- <tr ng-repeat="member in selectedTeam.members | orderBy:'fullName' "> -->
                  <tr ng-repeat="member in editGroup.members | orderBy:'fullName' ">
                       <!--<td>{{$index + 1}}</td>-->
                       <td>{{member.fullName}}</td>
                        <td>
                            <input type="text" class="form-control" ng-model="member.role" value="{{member.role}}" placeholder="Enter role...">
                        </td>
                        <!--<td>{{member.userName}}</td>-->
                         <td>
                             <label>{{member.activity}}&nbsp;h</label>
                        </td>
                        <td>
                            <a class="glyph-link" ng-click="removeEditGroupMember(member.userName)">
                                <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                            </a>
                        </td>
                    </tr>
               </tbody>
            </table>
         <!-- editGroup table -------------------------------------------------------------------- -->
            
        <br />
        <!-- adding a member to the group ------------------------------------------------- -->
        <div ng-if="addGroupPanel==true">
            <table class="table table-striped">
                 <colgroup>
                    <col width="40%" />
                    <col width="35%" />
                    <col width="20%" />
                    <col width="5%" />
                  </colgroup>
                 <tbody>
                    <tr>
                    <td>
                       <!-- <select class="form-control select-username"
                            ng-model="selectedMember"
                            ng-options="member.fullName for member in selectedTeam.members"
                            name="memberSelection">-->
                          <select class="form-control select-username"
                            ng-model="selectedMember" placeholder="Select a member"
                            ng-options="member.fullName for member in reportedMembers"
                            name="memberSelection">
                        </select>
                    </td>
                    <td>
                            <input type="text" class="form-control" ng-model="selectedMember.role" placeholder="Enter role...">
                    </td>
                    <td>
                        <a class="glyph-link"
                            ng-click="addMember(selectedMember)">
                            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                        </a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <!-- adding a member to the group ------------------------------------------------- -->

        <p>...</p> 

        <!--  ------------ List of Issues table v.2 -  works -------------------------------  -->
         <div ng-repeat="group in reportedGroups | orderBy:'groupName' " class="row">
            <div class="col-xs-10 col-sm-offset-1">
                     <span class="pheader"><em><strong> {{group.groupName | uppercase}}  </strong> </em> </span> {{groupMemberList(group)}} 
                </div>

            <div class="panel-body">
                <div>
                    <textarea class="form-control resizable" rows="2">Add some comments here...</textarea>
                </div> 
             </div>
        
            <div class="panel-body">
                <table class="table table-striped">
                    <colgroup>
                        <col width="15%" />
                        <col width="55%" />
                        <col width="15%" />
                        <col width="15%" />
                    </colgroup>

                    <thead class="thead1">
                        <tr>
                            <th class ="thead1-th">ID</th>
                            <th class ="thead1-th">Summary</th>
                            <th class ="thead1-th">Status</th>
                            <th class ="thead1-th">Logged time</th>
                        </tr>
                    </thead>
                  </table>
                </div>

<!--
[ {"key":"RVNETJAN-101","summary":"Implement tests for biz layer","status":"In Progress","loggedTime":7200} ]
-->
              <div class="panel-body" ng-repeat="member in group.members | orderBy:'fullName' " class="row">
                  <table class="table table-striped">
                      <colgroup>
                            <col width="15%" />
                            <col width="55%" />
                            <col width="15%" />
                            <col width="15%" />
                        </colgroup>
                    <tbody>
                            <!--<tr ng-repeat="issue in groupIssueArray(group) | orderBy:'key' ">-->
                            <tr ng-repeat="issue in member.issues | orderBy:'key' ">
                                <!--<td>{{$index + 1}}</td>-->
                                <td>{{issue.key}}</td>
                                <td>{{issue.summary}}</td>
                                <td>{{issue.status}}</td>
                                <td>{{ issue.loggedTime / 3600 | number:0}}&nbsp;h</td>
                            </tr>
                     </tbody>
                  </table>
                </div>

            </div>
         <!--  ------------ List of Issues table v.2 - works ------------------------------------  -->

        <br />

        <!-- Risks and Issues ---------------------------------------------------------------------- -->
         <div class="panel-body">
            <div>
               <!--<p id="P14" class="pheader">{{ fields[3].fieldName }} &nbsp; &nbsp;{{ fields[3].fieldDefaultValue }} </p>-->
                <p id="P14" class="pheader">Risks and Issues </p>
                <div>
                    <textarea class="form-control resizable" rows="2">Enter Risks and Issues here...</textarea>
                </div> 
             </div>
        </div>
        <!-- Risks and Issues ---------------------------------------------------------------------- -->

         <!-- Planned Activities -------------------------------------------------------------------- -->
        <div class="panel-body">
            <div>
               <!--<p id="P15" class="pheader">{{ fields[4].fieldName }} &nbsp; &nbsp;{{ fields[4].fieldDefaultValue }} </p>-->
                <p id="P15" class="pheader">Planned Activities </p>
                <div>
                    <textarea class="form-control resizable" rows="2">Enter Planned Activities here...</textarea>
                </div> 
             </div>
        </div>
         <!-- Planned Activities -------------------------------------------------------------------- -->

         <!--            form for Planned Vacations  - header    -->
        <div class="panel-body">
            <div>
               <!--<p id="P16" class="pheader">{{ fields[5].fieldName }} &nbsp; &nbsp;{{ fields[5].fieldDefaultValue }} </p>-->
                <p id="P16" class="pheader">Planned Vacations</p>
             </div>
        </div>

         <form class="form-horizontal" role="form">
            <div class="row">

                <div class="col-xs-5">
                    <div class="form-group draft-header">
                         <label>Team Member</label>
                    </div>
                </div>

                <div class="col-xs-3">
                    <div class="form-group draft-header">
                         <label>From</label>
                    </div>
                </div>

                <div class="col-xs-3">
                    <div class="form-group draft-header">
                         <label>To</label>
                    </div>
                </div>

                <div class="col-xs-1">
                   <div class="form-group draft-header">
                         <label>.</label>
                    </div>
                </div>

            </div>
       </form>

         <!--            form for Planned Vacations  - body        -->
         <form class="form-horizontal" role="form">
            <div class="row row2">

                <div class="col-xs-5">
                    <div class="form-group draft-row">
                         <label>member.Name</label>
                    </div>
                </div>

                <div class="col-xs-3">
                    <div class="form-group draft-row">
                          <input type="date" class="form-control" id="fromDate" placeholder="From date...">
                    </div>
                </div>

                <div class="col-xs-3">
                    <div class="form-group draft-row">
                          <input type="date" class="form-control" id="toDate" placeholder="To date...">
                    </div>
                </div>

                 <div class="col-xs-1">
                    <div class="form-group draft-row">
                        <button type="button" class="btn btn-link">
                          <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                        </button>
                    </div>
                </div>

            </div>
       </form>


    </div>
</section>

    <!-- Iteration thru the whole member list -->
    <!--
        <tr ng-repeat="member in selectedTeam.members | orderBy:'fullName' "> 
        {{$index + 1}} {{member.userName}} {{getUserActivity(member.userName, tempReport.from, tempReport.to)}}
    -->
